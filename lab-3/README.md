# Лабораторная работа №3. Методы общей рекурсии для обработки списков

## Задание

### Реализовать обработку списков с использованием механизма общей рекурсии.

## Задание №1

### Найти последний отличный от NIL атом в заданном списке.

```lisp
(defun get_last (a)
	(cond 
		; если a - атом, вернуть a
		((atom a) a)
		; если функция от хвоста возвращает nil,
		; то запускаем функцию от головы
		((null (get_last (cdr a))) (get_last (car a)))
		; иначе переходим к обработке хвоста
		(t (get_last (cdr a)))
	)
)

>
(get_last '(A V C (nil E nil nil X (nil))))

X

>
(get_last '(A V 35 C (nil E X 16 (nil (25)))))

25

>
(get_last '(A nil B nil))

B

>
(get_last '(((A nil) B) ((C) 15) nil nil nil ((nil) nil) nil))

15
```

## Задание №2

### Дан список произвольной структуры. Каждый числовой атом списка необходимо увеличить на единицу.

```lisp
(defun inc_nums (a)
	(cond
		; если а - nil, то вернуть nil
		((null a) nil)
		; если число, то вернуть "число + 1"
		((numberp a) (+ 1 a))
		; если атом, вернуть атом
		((atom a) a)
		; собирать список из головы и хвоста, к которым применяем нашу функцию
		(t (cons (inc_nums(car a)) (inc_nums(cdr a))))
	)
)

>
(inc_nums '((A (1) 2) B 3))

((A (2) 3) B 4)

>
(inc_nums '((A (1) 3 2 ((15))) B (C 4 (99) 1) V G 2 3))

((A (2) 4 3 ((16))) B (C 5 (100) 2) V G 3 4)

>
(inc_nums '(1 2 3 (4) (((5 C F) 4) 3 A B) 10))

(2 3 4 (5) (((6 C F) 5) 4 A B) 11)
```